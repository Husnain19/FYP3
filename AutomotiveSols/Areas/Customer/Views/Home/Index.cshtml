@model AutomotiveSols.BLL.ViewModels.IndexViewModel

<br />
<br />
<form method="get" asp-controller="Home" asp-action="Index">
    <p>
        <input type="search" placeholder="Search Cars, Services and Spare Parts..." value="@ViewData["searchString"]"
               name="searchString" style="width:500px;" />
        <input type="submit" value="Search" class="btn btn-primary" />
    </p>
</form>

<br />
<br />
<!---------------------------------------------------------------------------->
<div class="backgroundWhite container">

    <ul id="menu-filters" class="menu-filter-list list-inline text-center">
        <li class="active btn btn-secondary ml-1 mr-1" data-filter=".menu-restaurant">Show All</li>

        @foreach (var item in Model.ServiceTypes)
        {
<li class="ml-1 mr-1" data-filter=".@item.Name.Replace(" ",string.Empty)">@item.Name</li>
}
    </ul>


    @foreach (var category in Model.ServiceTypes)
    {
<div class="row" id="menu-wrapper">
    <partial name="_ThumbnailAreaPartial" model="@Model.Services.Where(u=>u.ServiceType.Name.Equals(category.Name))" />
</div>}
</div>

<!--------------------------------------->>


@*<div class="row">
    @foreach (var service in Model.Services)
    {
<div class="col-4">
    <div class="card mb-4">
        <div class="card-header">
            <h4 class="my-0 font-weight-normal">
                <label style="font-size:23px;color:black;">@service.Name</label>
            </h4>
        </div>

        <img class="card-img-top" style="height:100%;" src="@service.ImageUrl" alt="Card Image" />
        <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                    <label style="font-size:20px; color:#a51313"><b>Rs.@service.Price</b></label>
                </div>
                <a asp-action="Details" asp-controller="Home" class="btn btn-dark" style="border-radius:2px;" asp-route-id="@service.Id"> View Details</a>
            </div>
        </div>

    </div>
</div>}
</div>*@

@foreach (var category in Model.CategoryList.OrderBy(o => o.DisplayOrder))
{
@if (Model.AutoPartList.Where(c => c.CategoryId == category.Id).Count() > 0)
{
<div class="row container pb-3 backgroundWhite">
    <div class="col-12">
        <div class="row">
            <h4 class="text-dark"><b>@category.Name</b></h4>

            <div class="col-12">
                <div class="row my-3">
                    @foreach (var part in Model.AutoPartList.Where(c => c.CategoryId == category.Id))
                    {
<div class="col-lg-4 col-xl-3 col-md-6 pb-4">
    <div class="card" style="border:2px solid black;border-radius:5px; background:url('/images/leaves.png')">
        <div class="pl-3 pt-1 text-center">
            <h3 class="card-title text-dark"><b>@part.Name</b></h3>
        </div>
        <div class="d-flex justify-content-between ">
            <div class="pl-1 text-muted">Price </div>
            <div class="pr-1 text-danger h5">$@part.Price</div>
        </div>
        <img src="@part.MainImageUrl" class="card-img-top p-2 rounded" />

        <div class="text-muted text-center pb-2">@part.Category.Name</div>
        <div class="text-muted text-center pb-2">@part.SubCategory.Name</div>
        <div class="text-muted text-center pb-2">@part.ApplicationUser.Name</div>

        <a asp-action="DetailsPart" class="btn btn-dark" style="border-radius:2px;" asp-route-id="@part.Id">Details</a>
    </div>
</div>}
                </div>
            </div>
        </div>
    </div>
</div>}}

@foreach (var brand in Model.Brands.OrderBy(o => o.Name))
{
@if (Model.Cars.Where(c => c.BranId == brand.Id).Count() > 0)
{
<div class="row container pb-3 backgroundWhite">
    <div class="col-12">
        <div class="row">
            <h4 class="text-dark"><b>@brand.Name</b></h4>

            <div class="col-12">
                <div class="row my-3">
                    @foreach (var part in Model.Cars.Where(c => c.BranId == brand.Id))
                    {
<div class="col-lg-4 col-xl-3 col-md-6 pb-4">
    <div class="card" style="border:2px solid black;border-radius:5px; background:url('/images/leaves.png')">
        <div class="pl-3 pt-1 text-center">
            <h3 class="card-title text-dark"><b>@part.Trim.Name</b></h3>
        </div>
        <div class="d-flex justify-content-between ">
            <div class="pl-1 text-muted">Price </div>
            <div class="pr-1 text-danger h5">$@part.Price</div>
        </div>
        <img src="@part.MainImage" class="card-img-top p-2 rounded" />

        <div class="text-muted text-center pb-2">@part.Year.SolarYear</div>
        <div class="text-muted text-center pb-2">@part.RegistrationCity.Name</div>
        <div class="text-muted text-center pb-2">@part.ApplicationUser.Name</div>

        <a asp-action="DetailsCar" class="btn btn-dark" style="border-radius:2px;" asp-route-id="@part.Id">Details</a>
    </div>
</div>}
                </div>
            </div>
        </div>
    </div>
</div>}}

@section Scripts{
    <script src="https://code.jquery.com/jquery-3.3.1.js"
            integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
            crossorigin="anonymous"></script>

    <script>var posts = $('.post');

    (function ($) {

        $("#menu-filters li").click(function () {
            $("#menu-filters li").removeClass('active btn btn-secondary');
            $(this).addClass('active btn btn-secondary');

            var selectedFilter = $(this).data("filter");

            $(".menu-restaurant").fadeOut();

            setTimeout(function () {
                $(selectedFilter).slideDown();
            }, 300);
        });



    })(jQuery);</script>
}